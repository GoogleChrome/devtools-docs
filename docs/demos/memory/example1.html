{% include "chrome-developer-tools/_local_variables.html" %}
<!DOCTYPE html>
<html devsite>
<head>
  <title>Example 1</title>
  <link rel="stylesheet" href="stylesheets/style.css" type="text/css">
    <meta name="project_path" value="/chrome-developer-tools/_project.yaml" />
    <meta name="book_path" value="/chrome-developer-tools/_book.yaml" />
</head>

<body>

{% framebox height="200px" %}
  <h1>Example 1: Watch the memory grow</h1>
  <ol>
    <li>Open DevTools</li>

    <li>Select Timeline Tab</li>

    <li>Select Memory</li>

    <li>Record</li>

    <li>Push The Button</li>

  </ol><button onclick="grow()">The Button</button>

  <div id="nodes" style="display:none"></div>
<script>
var x = [];

function createSomeNodes() {
    var div,
        buf,
        i = 100,
        frag = document.createDocumentFragment();
    for (; i > 0; i--) {
        div = document.createElement('div');
        buf = document.createTextNode(i + ' - ' + new Date().toTimeString());
        div.appendChild(buf);
        frag.appendChild(div);
    }
    document.getElementById('nodes').appendChild(frag);
}
function grow() {
    x.push(new Array(1000000).join('x'));
    createSomeNodes();
    setTimeout(grow, 1000);
}
</script>
{% endframebox %} 

  <hr>
  <pre>
var x = [];

function createSomeNodes() {
    var div,
        i = 100,
        frag = document.createDocumentFragment();
    for (;i &gt; 0; i--) {
        div = document.createElement("div");
        div.appendChild(document.createTextNode(i + " - "+ new Date().toTimeString()));
        frag.appendChild(div);
    }
    document.getElementById("nodes").appendChild(frag);
}
function grow() {
    x.push(new Array(1000000).join('x'));
    createSomeNodes();
    setTimeout(grow,1000);
}
</pre>
</body>
</html>
